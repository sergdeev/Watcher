(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(53)},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),s=a.n(o),i=a(11),c=a(3),l=a(4),u=a(7),m=a(5),d=a(6),p=a(16),h=a(8),v=a(13),g=a(23),b=a.n(g),f="https://api.themoviedb.org/3",E="82e907ae230e3979723f46972af5c31d",O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a,n){fetch(e,t).then(function(e){if(e.status<400)return e.json();throw e}).then(function(e){a(e)}).catch(function(e){e.json().then(function(e){n(e)})})})},j=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"get",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).params,a=void 0===t?{}:t,n=Object(i.a)({api_key:E,language:"ru-RU"},a);return O("".concat(f).concat(e,"?").concat(b.a.stringify(n)),{mode:"cors",headers:{"Content-type":"application/json"}})}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.params,n=void 0===a?{}:a,r=t.body,o=void 0===r?{}:r,s=Object(i.a)({api_key:E,language:"ru-RU"},n);return O("".concat(f).concat(e,"?").concat(b.a.stringify(s)),{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(o)})}}]),e}(),y=function(e){return function(t){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(oe.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t.props,a))})}}]),a}(r.a.Component)},_=y(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(function(e){var t;return t={},Object(v.a)(t,a,n),Object(v.a)(t,"errors",Object(i.a)({},e.errors,Object(v.a)({base:!1},a,null))),t})},e.handleBlur=function(){var t=e.validateFields();Object.keys(t).length>0&&e.setState(function(e){return{errors:Object(i.a)({},e.errors,t)}})},e.validateFields=function(){var t={};return""===e.state.username&&(t.username="Not empty"),e.state.password.length<5&&(t.password="Password must be at least 5 character"),e.state.repeatPassword!==e.state.password&&(t.repeatPassword="Password must be the same"),t},e.onSubmit=function(){e.setState({submitting:!0}),j.get("/authentication/token/new").then(function(t){return j.post("/authentication/token/validate_with_login",{body:{username:e.state.username,password:e.state.password,request_token:t.request_token}})}).then(function(e){return j.post("/authentication/session/new",{body:{request_token:e.request_token}})}).then(function(t){return e.props.updateSessionId(t.session_id),j.get("/account",{params:{session_id:t.session_id}})}).then(function(t){e.setState({submitting:!1},function(){e.props.updateUser(t)})}).catch(function(t){console.log("error",t),e.setState({submitting:!1,errors:{base:t.status_message}})})},e.onLogin=function(t){t.preventDefault();var a=e.validateFields();Object.keys(a).length>0?e.setState(function(e){return{errors:Object(i.a)({},e.errors,a)}}):e.onSubmit()},e.state={username:"",password:"",repeatPassword:"",errors:{},submitting:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.repeatPassword,o=e.errors,s=e.submitting;return r.a.createElement("div",{className:"form-login-container"},r.a.createElement("form",{className:"form-login"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal text-center"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f apitarakan1972"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement("input",{type:"text",className:o.username?"form-control invalid":"form-control",id:"username",placeholder:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:t,onChange:this.onChange,onBlur:this.handleBlur}),o.username&&r.a.createElement("div",{className:"invalid-feedback"},o.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",className:o.password?"form-control invalid":"form-control",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:a,onChange:this.onChange}),o.password&&r.a.createElement("div",{className:"invalid-feedback"},o.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"repeatPassword"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",className:o.repeatPassword?"form-control invalid":"form-control",id:"repeatPassword",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeatPassword",value:n,onChange:this.onChange}),o.repeatPassword&&r.a.createElement("div",{className:"invalid-feedback"},o.repeatPassword)),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-outline-dark btn-block",onClick:this.onLogin,disabled:s},"\u0412\u0445\u043e\u0434"),o.base&&r.a.createElement("div",{className:"invalid-feedback text-center"},o.base)))}}]),t}(n.Component)),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleModal=a.toggleModal.bind(Object(p.a)(Object(p.a)(a))),a.state={showModal:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleModal",value:function(){this.setState(function(e){return{showModal:!e.showModal}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:this.toggleModal},"Login"),r.a.createElement(h.g,{isOpen:this.state.showModal,toggle:this.toggleModal},r.a.createElement(h.h,null,r.a.createElement(_,null)))))}}]),t}(n.Component),k=y(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).toggleDropdown=function(){e.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},e.handleLogOut=function(){O("".concat(f,"/authentication/session?api_key=").concat(E),{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({session_id:e.props.session_id})}).then(function(){e.props.onLogOut()})},e.state={dropdownOpen:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(h.b,{isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},r.a.createElement(h.e,{tag:"div",onClick:this.toggleDropdown,"data-toggle":"dropdown"},r.a.createElement("img",{alt:"",className:"rounded-circle",src:"https://secure.gravatar.com/avatar/".concat(e.avatar.gravatar.hash,".jpg?s=44"),onClick:this.toggleDropdown})),r.a.createElement(h.d,{right:!0},r.a.createElement(h.c,{onClick:this.handleLogOut},"\u0412\u044b\u0439\u0442\u0438")))}}]),t}(n.Component)),C=a(47),N=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(C.a,{to:"/",className:"nav-link"},"Home"))),e?r.a.createElement(k,null):r.a.createElement(w,null)))}}]),t}(n.Component),M=a(33),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.onChangeFilters,n=e.options;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"sort_by"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),r.a.createElement("select",{id:"sort_by",className:"form-control",name:"sort_by",value:t,onChange:a},n.map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),t}(r.a.PureComponent);S.defaultProps={options:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"popularity.desc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"popularity.asc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"vote_average.asc"}]};var P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.total_pages,n=e.onChangePage;return r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group d-flex justify-content-center"},r.a.createElement("button",{type:"button",className:"btn btn-light",disabled:1===t,onClick:function(){n(t-1)}},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){n(t+1)}},"\u0412\u043f\u0435\u0440\u0435\u0434")),r.a.createElement("div",{className:"text-center"},t," \u0438\u0437 ",a))}}]),t}(n.Component),F=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.onChangeFilters,n=e.primary_release_year;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"primary_release_year"},"\u0413\u043e\u0434 \u0440\u0435\u043b\u0438\u0437\u0430:"),r.a.createElement("select",{id:"primary_release_year",className:"form-control",name:"primary_release_year",value:n,onChange:a},t.map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),t}(r.a.PureComponent);F.defaultProps={options:[{label:"2018",value:"2018"},{label:"2017",value:"2017"},{label:"2016",value:"2016"},{label:"2015",value:"2015"}]};var L=a(32),x=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t){console.log(t.target.checked),e.props.onChangeFilters({target:{name:"with_genres",value:t.target.checked?[].concat(Object(L.a)(e.props.with_genres),[t.target.value]):e.props.with_genres.filter(function(e){return e!==t.target.value})}})},e.resetGenres=function(t){e.props.onChangeFilters({target:{name:"with_genres",value:[]}})},e.state={genresList:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(f,"/genre/movie/list?api_key=").concat(E,"&language=ru-RU");fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({genresList:t.genres})})}},{key:"render",value:function(){var e=this,t=this.state.genresList,a=this.props.with_genres;return console.log(a),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.resetGenres},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0436\u0430\u043d\u0440\u044b"),t.map(function(t){return r.a.createElement("div",{key:t.id,className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:t.id,id:"genre".concat(t.id),onChange:e.onChange,checked:a.includes(String(t.id))}),r.a.createElement("label",{className:"form-check-label",htmlFor:"genre".concat(t.id)},t.name))}))}}]),t}(n.Component),U=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,a=t.sort_by,n=t.primary_release_year,o=t.with_genres,s=e.total_pages,i=e.onChangeFilters,c=e.page,l=e.onChangePage;return r.a.createElement("form",{className:"mb-3"},r.a.createElement(S,{onChangeFilters:i,sort_by:a}),r.a.createElement(F,{onChangeFilters:i,primary_release_year:n}),r.a.createElement(x,{onChangeFilters:i,with_genres:o}),r.a.createElement(P,{page:c,onChangePage:l,total_pages:s}))}}]),t}(r.a.Component),D=a(28),A=function(e){var t=e.iconName,a=e.onClick,n=e.isAdded,o=(e.isLiked,n?"fas":"far");return r.a.createElement(D.a,{icon:[o,t],onClick:a,className:"icon"})},T=function(e,t,a){return function(n){function o(e){var n;return Object(c.a)(this,o),(n=Object(u.a)(this,Object(m.a)(o).call(this,e))).addFavorite=function(){var e=n.props,t=e.user,r=e.item,o=e.session_id,s=e.showToggleModal;o?n.setState(function(e){return Object(i.a)({},e,{isAdded:!e.isAdded})},function(){return j.post("/account/".concat(t.id,"/").concat([a]),{params:{session_id:o},body:Object(v.a)({media_type:"movie",media_id:r.id},a,n.state.isAdded)})}):s()},n.state={isAdded:e[t].includes(e.item.id)},n}return Object(d.a)(o,n),Object(l.a)(o,[{key:"render",value:function(){var t=this.state.isAdded;return r.a.createElement(e,{isAdded:t,addFavorite:this.addFavorite})}}]),o}(r.a.Component)},R=y(T(function(e){var t=e.isAdded,a=e.addFavorite;return r.a.createElement(A,{iconName:"heart",onClick:a,isAdded:t})},"favoriteMovies","favorite")),I=y(T(function(e){var t=e.isAdded,a=e.addFavorite;return r.a.createElement(A,{iconName:"bookmark",onClick:a,isAdded:t})},"watchList","watchlist")),q=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("img",{className:"card-img-top card-img--height",src:"https://image.tmdb.org/t/p/w500".concat(e.backdrop_path||e.poster_path),alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement(C.a,{className:"card-title",to:"/movie/".concat(e.id)},e.title),r.a.createElement("div",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",e.vote_average),r.a.createElement(R,{className:"favorite",item:e}),r.a.createElement(I,{item:e})))}}]),t}(r.a.Component),B=function(e){var t=e.movies;return r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-6 mb-4"},r.a.createElement(q,{item:e}))}))};B.defaultProps={movies:[]};var J,V=(J=B,function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getMovies=function(t,a){var n=t.sort_by,r=t.primary_release_year,o=t.with_genres,s={language:"ru-RU",sort_by:n,page:a,primary_release_year:r};o.length>0&&(s.with_genres=o.join(",")),j.get("/discover/movie",{params:s}).then(function(t){e.setState({movies:t.results}),e.props.getTotalPages(t.total_pages)})},e.state={movies:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getMovies(this.props.filters,this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.filters.sort_by!==e.filters.sort_by&&(this.getMovies(this.props.filters,1),this.props.onChangePage(1)),this.props.filters.primary_release_year!==e.filters.primary_release_year&&(this.getMovies(this.props.filters,1),this.props.onChangePage(1)),this.props.filters.with_genres!==e.filters.with_genres&&(this.getMovies(this.props.filters,1),this.props.onChangePage(1)),this.props.page!==e.page&&this.getMovies(this.props.filters,this.props.page)}},{key:"render",value:function(){var e=this.state.movies;return console.log(J),r.a.createElement(J,{movies:e})}}]),t}(r.a.Component)),G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChangeFilters=function(t){var a=t.target.value,n=t.target.name;e.setState(function(e){return{filters:Object(i.a)({},e.filters,Object(v.a)({},n,a))}})},e.onChangePage=function(t){e.setState({page:t})},e.getTotalPages=function(t){e.setState({total_pages:t})},e.onClearFilters=function(t){e.setState({filters:{sort_by:"popularity.desc",primary_release_year:"2018",with_genres:[]},page:1})},e.state={filters:{sort_by:"popularity.desc",primary_release_year:"",with_genres:[]},page:1,total_pages:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filters,a=e.page,n=e.total_pages;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-light",onClick:this.onClearFilters},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),r.a.createElement(U,{filters:t,onChangeFilters:this.onChangeFilters,page:a,onChangePage:this.onChangePage,total_pages:n})))),r.a.createElement("div",{className:"col-8"},r.a.createElement(V,{filters:t,page:a,onChangePage:this.onChangePage,getTotalPages:this.getTotalPages}))))}}]),t}(r.a.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movie,t=e.backdrop_path,a=e.poster_path,n=e.title,o=e.overview,s=this.props.movie;return r.a.createElement("div",{style:{background:"url(https://image.tmdb.org/t/p/w600_and_h900_bestv2".concat(t,") no-repeat 50%/cover")},className:"movie-info"},r.a.createElement("div",{className:"movie-container"},r.a.createElement("div",{className:"movie-page"},r.a.createElement("div",{className:"col-4 movie-image"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a),style:{width:"300px"},alt:""})),r.a.createElement("div",{className:"col-8 movie-text"},r.a.createElement("div",{className:"card-text"},n),r.a.createElement("div",{className:"card-text"},o),r.a.createElement(R,{item:s}),r.a.createElement(I,{item:s})))))}}]),t}(r.a.Component),H=a(55),z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movie;return r.a.createElement("div",{className:"container"},r.a.createElement(h.i,{tabs:!0},r.a.createElement(h.j,null,r.a.createElement(h.k,null,r.a.createElement(H.a,{to:"/movie/".concat(e.id,"/detail")},"Movie Detail"))),r.a.createElement(h.j,null,r.a.createElement(h.k,null,r.a.createElement(H.a,{to:"/movie/".concat(e.id,"/videos")},"Videos"))),r.a.createElement(h.j,null,r.a.createElement(h.k,null,r.a.createElement(H.a,{to:"/movie/".concat(e.id,"/credits")},"Credits")))))}}]),t}(r.a.Component),K=a(57),Q=a(54),W=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movie,t=e.original_title,a=e.production_companies,n=e.production_countries,o=e.status,s=e.budget,i=e.release_data,c=e.original_language,l=e.revenue,u=e.genres;return r.a.createElement(h.l,{className:"container"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("td",null,t)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("td",null,o)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"),r.a.createElement("td",null,i)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0411\u044e\u0434\u0436\u0435\u0442"),r.a.createElement("td",null,"$".concat(s))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u042f\u0437\u044b\u043a \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0442\u0440\u0430\u043d\u0430"),r.a.createElement("td",null,n&&n.map(function(e){return"".concat(e.name)}))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0431\u043e\u0440\u044b"),r.a.createElement("td",null,"$".concat(l))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),r.a.createElement("td",null,a&&a.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(h.a,{color:"info"},e.name),r.a.createElement("br",null))}))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0416\u0430\u043d\u0440\u044b"),r.a.createElement("td",null,u&&u.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(h.a,{color:"info"},e.name))})))))}}]),t}(r.a.Component),X=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={movieVideos:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;j.get("/movie/".concat(t,"/videos"),{params:{language:"ru-RU"}}).then(function(t){e.setState({movieVideos:t.results})})}},{key:"render",value:function(){var e=this.state.movieVideos;return r.a.createElement("div",{className:"container pt-2"},e.map(function(e){return r.a.createElement(h.f,{key:e.id},r.a.createElement(h.f,{left:!0,href:"#",className:"mr-4"},r.a.createElement("iframe",{title:e.id,width:"560",height:"315",src:"https://www.youtube-nocookie.com/embed/".concat(e.key),frameBorder:"0",allowFullScreen:!0})),r.a.createElement(h.f,{body:!0},r.a.createElement(h.f,{heading:!0},e.name),"Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus."))}))}}]),t}(r.a.Component),Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={movieCredits:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;j.get("/movie/".concat(t,"/credits"),{params:{language:"ru-RU"}}).then(function(t){e.setState({movieCredits:t.cast})})}},{key:"render",value:function(){var e=this.state.movieCredits;return r.a.createElement("div",{className:"container pt-2"},e.map(function(e){return r.a.createElement("img",{key:e.id,className:"card-img",src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),style:{width:"180px",height:"270px",margin:"1px"},alt:""})}))}}]),t}(r.a.Component),Z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={movie:{}},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;j.get("/movie/".concat(t),{params:{language:"ru-RU"}}).then(function(t){e.setState({movie:t})})}},{key:"render",value:function(){var e=this.state.movie;return r.a.createElement("div",null,r.a.createElement($,{movie:e}),r.a.createElement(z,{movie:e}),r.a.createElement(K.a,null,r.a.createElement(Q.a,{exact:!0,path:"/movie/:id/detail",render:function(t){return r.a.createElement(W,Object.assign({},t,{movie:e}))}}),r.a.createElement(Q.a,{path:"/movie/:id/videos",component:X}),r.a.createElement(Q.a,{path:"/movie/:id/credits",component:Y})))}}]),t}(r.a.Component),ee=a(17),te=a(30),ae=a(31),ne=a(56),re=new M.a,oe=r.a.createContext();ee.b.add(te.a,ae.a);var se=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).updateUser=function(t){e.setState({user:t})},e.updateSessionId=function(t){re.set("session_id",t,{path:"/",maxAge:2592e3}),e.setState({session_id:t})},e.onLogOut=function(){re.remove("session_id"),e.setState({user:null,session_id:null})},e.getFavoriteMovies=function(){var t=e.state,a=t.session_id,n=t.user;j.get("/account/".concat(n.id,"/favorite/movies"),{params:{session_id:a,language:"ru-RU"}}).then(function(t){var r=[];return t.results.map(function(e){r.push(e.id)}),e.setState({favoriteMovies:[].concat(r)}),j.get("/account/".concat(n.id,"/watchlist/movies"),{params:{session_id:a,language:"ru-RU"}}).then(function(t){var a=[];t.results.map(function(e){a.push(e.id)}),e.setState({watchList:[].concat(a)})})})},e.showToggleModal=function(){e.setState(function(e){return Object(i.a)({},e,{showLoginModal:!e.showLoginModal})})},e.state={user:null,session_id:"",showLoginModal:!1,favoriteMovies:[],watchList:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=re.get("session_id");t&&O("".concat(f,"/account?api_key=").concat(E,"&session_id=").concat(t)).then(function(a){e.updateUser(a),e.updateSessionId(t),e.getFavoriteMovies()})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.session_id,n=e.favoriteMovies,o=e.watchList,s=e.showLoginModal;return r.a.createElement(ne.a,null,r.a.createElement(oe.Provider,{value:{user:t,updateUser:this.updateUser,session_id:a,updateSessionId:this.updateSessionId,onLogOut:this.onLogOut,showToggleModal:this.showToggleModal,getFavoriteMovies:this.getFavoriteMovies,favoriteMovies:n,watchList:o}},r.a.createElement("div",null,r.a.createElement(h.g,{isOpen:s,toggle:this.showToggleModal},r.a.createElement(h.h,null,r.a.createElement(_,null))),r.a.createElement(N,{user:t,updateUser:this.updateUser,updateSessionId:this.updateSessionId}),r.a.createElement(Q.a,{exact:!0,path:"/",component:G}),r.a.createElement(Q.a,{path:"/movie/:id",component:Z}))))}}]),t}(r.a.Component);a(49),a(51);s.a.render(r.a.createElement(se,null),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.aa1627d5.chunk.js.map